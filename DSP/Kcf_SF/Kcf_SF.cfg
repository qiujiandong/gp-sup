var BIOS = xdc.useModule('ti.sysbios.BIOS');
var Cache = xdc.useModule('ti.sysbios.family.c66.Cache');
var CpIntc = xdc.useModule('ti.sysbios.family.c66.tci66xx.CpIntc');
var Hwi = xdc.useModule('ti.sysbios.family.c64p.Hwi');
var Semaphore = xdc.useModule('ti.sysbios.knl.Semaphore');
var Queue = xdc.useModule('ti.sysbios.knl.Queue');
var Task = xdc.useModule('ti.sysbios.knl.Task');
var Memory = xdc.useModule('xdc.runtime.Memory');
var System = xdc.useModule('xdc.runtime.System');
var HeapMem = xdc.useModule('ti.sysbios.heaps.HeapMem');

Program.sectMap[".images"] = new Program.SectionSpec();
Program.sectMap[".images"].loadSegment = "DDR3";
Program.sectMap[".sysmem"] = new Program.SectionSpec();
Program.sectMap[".sysmem"].loadSegment = "MSMCSRAM";
Program.sectMap[".ppdata"] = new Program.SectionSpec();
Program.sectMap[".ppdata"].loadSegment = "DDR3";
Program.sectMap[".ddrHeap"] = new Program.SectionSpec();
Program.sectMap[".ddrHeap"].loadSegment = "DDR3";

BIOS.heapSection = ".sysmem";
BIOS.heapSize = 3670016;

System.SupportProxy = xdc.module("xdc.runtime.SysStd");
System.extendedFormats = "%$S%f%l";

var hwi0Params = new Hwi.Params();
hwi0Params.instance.name = "hSimDataRxDoneHwi";
hwi0Params.eventId = 21;
Program.global.hSimDataRxDoneHwi = Hwi.create(4, "&SimDataRxHandler", hwi0Params);
var hwi1Params = new Hwi.Params();
hwi1Params.instance.name = "hTspsDoneHwi";
hwi1Params.eventId = 22;
Program.global.hTspsDoneHwi = Hwi.create(5, "&TspsDoneHandler", hwi1Params);
var hwi2Params = new Hwi.Params();
hwi2Params.instance.name = "hFFTDoneHwi";
hwi2Params.eventId = 23;
Program.global.hFFTDoneHwi = Hwi.create(6, "&FFTDoneHandler", hwi2Params);
var hwi3Params = new Hwi.Params();
hwi3Params.instance.name = "hSrioHwi";
hwi3Params.eventId = 24;
Program.global.hSrioHwi = Hwi.create(7, "&SrioHandler", hwi3Params);
var hwi4Params = new Hwi.Params();
hwi4Params.instance.name = "hHwFogDoneHwi";
hwi4Params.eventId = 82;
Program.global.hHwFogDoneHwi = Hwi.create(8, "&HwFhogDoneHandler", hwi4Params);

var task0Params = new Task.Params();
task0Params.instance.name = "hMainTsk";
task0Params.priority = 2;
task0Params.stackSize = 8192;
Program.global.hMainTsk = Task.create("&MainTskFxn", task0Params);
var task1Params = new Task.Params();
task1Params.instance.name = "hFFTTsk";
task1Params.priority = 3;
Program.global.hFFTTsk = Task.create("&FFTTskFxn", task1Params);

var semaphore0Params = new Semaphore.Params();
semaphore0Params.instance.name = "hFFTDoneSem";
semaphore0Params.mode = Semaphore.Mode_COUNTING;
Program.global.hFFTDoneSem = Semaphore.create(null, semaphore0Params);
var semaphore1Params = new Semaphore.Params();
semaphore1Params.instance.name = "hFFTStartSem";
semaphore1Params.mode = Semaphore.Mode_COUNTING;
Program.global.hFFTStartSem = Semaphore.create(null, semaphore1Params);
var semaphore2Params = new Semaphore.Params();
semaphore2Params.instance.name = "hFFTHwiSem";
semaphore2Params.mode = Semaphore.Mode_BINARY;
Program.global.hFFTHwiSem = Semaphore.create(null, semaphore2Params);
var semaphore3Params = new Semaphore.Params();
semaphore3Params.instance.name = "hTspsDoneSem";
semaphore3Params.mode = Semaphore.Mode_BINARY;
Program.global.hTspsDoneSem = Semaphore.create(0, semaphore3Params);
var semaphore4Params = new Semaphore.Params();
semaphore4Params.instance.name = "hRxDbStartReqSem";
semaphore4Params.mode = Semaphore.Mode_BINARY;
Program.global.hRxDbStartReqSem = Semaphore.create(0, semaphore4Params);
// var semaphore5Params = new Semaphore.Params();
// semaphore5Params.instance.name = "hRxDbSwDoneSem";
// semaphore5Params.mode = Semaphore.Mode_BINARY;
// Program.global.hRxDbSwDoneSem = Semaphore.create(null, semaphore5Params);
var semaphore5Params = new Semaphore.Params();
semaphore5Params.instance.name = "hRxDbSwFromPCSem";
semaphore5Params.mode = Semaphore.Mode_COUNTING;
Program.global.hRxDbSwFromPCSem = Semaphore.create(null, semaphore5Params);
var semaphore6Params = new Semaphore.Params();
semaphore6Params.instance.name = "hTxNwDoneSem";
semaphore6Params.mode = Semaphore.Mode_BINARY;
Program.global.hTxNwDoneSem = Semaphore.create(null, semaphore6Params);
var semaphore7Params = new Semaphore.Params();
semaphore7Params.instance.name = "hRxSimData";
semaphore7Params.mode = Semaphore.Mode_BINARY;
Program.global.hRxSimData = Semaphore.create(null, semaphore7Params);
var semaphore8Params = new Semaphore.Params();
semaphore8Params.instance.name = "hHwFhogDoneSem";
semaphore8Params.mode = Semaphore.Mode_COUNTING;
Program.global.hHwFhogDoneSem = Semaphore.create(null, semaphore8Params);
var semaphore9Params = new Semaphore.Params();
semaphore9Params.instance.name = "hRxDbSwFromFPGASem";
semaphore9Params.mode = Semaphore.Mode_COUNTING;
Program.global.hRxDbSwFromFPGASem = Semaphore.create(0, semaphore9Params);

var queue0Params = new Queue.Params();
queue0Params.instance.name = "hFFTQue";
Program.global.hFFTQue = Queue.create(queue0Params);

var heapMem0Params = new HeapMem.Params();
heapMem0Params.instance.name = "hRxBufHeap";
heapMem0Params.size = 0x800000;
heapMem0Params.sectionName = ".ddrHeap";
heapMem0Params.minBlockAlign = 4096;
heapMem0Params.align = 4096;
Program.global.hRxBufHeap = HeapMem.create(heapMem0Params);
